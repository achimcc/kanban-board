(this["webpackJsonpkanban-board"]=this["webpackJsonpkanban-board"]||[]).push([[0],{103:function(t,e,n){"use strict";n.r(e);var a,c,i=n(6),r=n(0),s=n.n(r),o=n(8),u=n.n(o),d=(n(96),n(47)),l=n(42),b=n(48),j=n(33),O={tasks:{byIds:{1:{title:"item 1"},2:{title:"item 2"},3:{title:"item 3"}},allIds:["1","2","3"]}},f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;return Object(b.a)(t,(function(t){switch(e.type){case"CREATE":var n=e.title,a=e.id;t.tasks.byIds[a]={id:a,title:n,updateId:Object(j.a)(6)},t.tasks.allIds.push(a);break;case"DELETE":var c=e.id;delete t.tasks.byIds[c],t.tasks.allIds=t.tasks.allIds.filter((function(t){return t!==c}))}}))},p=n(36);!function(t){t.ToDo="TO_DO",t.Doing="DOING",t.Done="DONE"}(a||(a={}));var v={taskStatus:(c={},Object(p.a)(c,a.ToDo,[1]),Object(p.a)(c,a.Doing,[2]),Object(p.a)(c,a.Done,[3]),c),updateId:Object(j.a)(6)},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;return Object(b.a)(t,(function(t){switch(console.log(e),e.type){case"CREATE":var n=e.id;t.taskStatus[a.ToDo].push(n);break;case"SET_STATUS":var c=e.status,i=e.id,r=e.order,s=void 0===r?void 0:r;Object.values(a).forEach((function(e){t.taskStatus[e]=t.taskStatus[e].filter((function(t){return t!==i})),c===e&&(console.log("###order:",s),s||0===s?(console.log("inserting"),t.taskStatus[e].splice(s,0,i),console.log(t.taskStatus[e])):t.taskStatus[e].push(i))})),t.updateId=Object(j.a)(6);break;case"DELETE":var o=e.id;Object.values(a).forEach((function(e){return t.taskStatus[e]=t.taskStatus[e].filter((function(t){return t!==o}))}))}}))},h=Object(l.c)(Object(l.b)({data:f,ui:x}));function m(){var t=Object(d.c)();return function(e){return t(e)}}var k=Object(d.b)();function g(t){return t(k((function(t){return t})))}var y=n(132),S=n(144),E=n(143),T=n(77),I=n(135),D=n(34),C=n(136),w=n(150),A=n(137),N=n(139),B=n(140),F=n(141),L=n(142),R=n(134),M=n(149),q=n(72),P=Object(y.a)((function(t){return{root:{border:"1px solid black",margin:"10px"}}})),_=function(t){var e,n=t.taskId,c=g((e=n,function(t){var n=Object.values(a).find((function(n){return t.ui.taskStatus[n].includes(e)}))||a.ToDo,c=t.data.tasks.byIds[e];return Object(q.a)({id:e,status:n},c)})),s=m(),o=P();return Object(r.useEffect)((function(){var t=document.querySelector("#task".concat(c.id)),e=Object(R.a)(t,"mousedown"),n=Object(R.a)(document,"mousemove"),i=Object(R.a)(document,"mouseup");e.pipe(Object(I.a)((function(t){return Object(M.a)(n.pipe(Object(D.a)((function(e){return e.preventDefault(),{type:"move",x:e.x-t.x,y:e.y-t.y}})),Object(C.a)(i)),i.pipe(Object(D.a)((function(t){return{type:"end",x:t.clientX,y:t.clientY}})),Object(w.a)(1)))}))).subscribe((function(e){switch(e.type){case"move":t.style.transform="translate(".concat(null===e||void 0===e?void 0:e.x,"px, ").concat(null===e||void 0===e?void 0:e.y,"px)");break;case"end":var n=document.elementsFromPoint(e.x,e.y).map((function(t){return t&&t.id})),i=Object.values(a).filter((function(t){return n.includes(t)}))[0];if(i){var r,o=document.querySelector("#".concat(i));o&&(r=Object.values(o.querySelectorAll('[id^="task"]')).map((function(t){return Math.abs(t.getBoundingClientRect().top-document.body.getBoundingClientRect().top-e.y)})));var u=r.indexOf(Math.min.apply(Math,Object(T.a)(r)));if(i){var d={type:"SET_STATUS",id:c.id,status:i,order:u};s(d)}}t.style.transform="translate(0px, 0px)"}}))}),[]),Object(i.jsx)("div",{id:"task".concat(c.id),className:o.root,children:Object(i.jsxs)(A.a,{children:[Object(i.jsx)(N.a,{}),Object(i.jsx)(B.a,{primary:c.title}),Object(i.jsx)(N.a,{children:c.status===a.Done&&Object(i.jsx)(F.a,{onClick:function(){return s({type:"DELETE",id:c.id})},children:Object(i.jsx)(L.a,{})})})]})})},J=n(62),U=Object(y.a)((function(t){return{root:{width:"100%",backgroundColor:t.palette.background.paper,minHeight:"14vw"}}})),G=function(t){var e=t.status,n=t.title,a=U(),c=g((function(t){return t.ui.taskStatus[e]}));g((function(t){return t.ui.updateId}));return Object(i.jsx)(E.a,{children:Object(i.jsxs)("div",{className:a.root,id:"".concat(e),children:[Object(i.jsx)(J.a,{variant:"h6",align:"center",children:n}),Object(i.jsx)(S.a,{component:"nav","aria-label":"main mailbox folders",children:c.map((function(t){return Object(i.jsx)(_,{taskId:t},"".concat(t))}))})]})})},H=n(145),K=n(146),X=function(){return Object(i.jsx)(K.a,{id:"kanban",children:Object(i.jsx)(H.a,{container:!0,spacing:1,children:Object.values(a).map((function(t){return function(t){return console.log(t),Object(i.jsx)(H.a,{item:!0,xs:4,children:Object(i.jsx)(G,{status:t,title:t},t)},t)}(t)}))})})},Y=n(76),z=n(148),Q=n(147);function V(){var t=m(),e=s.a.useState(""),n=Object(Y.a)(e,2),a=n[0],c=n[1];return Object(i.jsx)(z.a,{m:"auto",alignItems:"center",justifyContent:"center",children:Object(i.jsxs)(H.a,{container:!0,spacing:1,children:[Object(i.jsx)(H.a,{item:!0,xs:6,children:Object(i.jsx)(Q.a,{id:"standard-name",label:"Task Name",value:a,onChange:function(t){c(t.currentTarget.value)}})}),Object(i.jsx)(H.a,{item:!0,container:!0,xs:6,alignItems:"center",justify:"center",children:Object(i.jsx)(z.a,{p:2,children:Object(i.jsx)(F.a,{variant:"contained",id:"btn-submit",color:"primary",onClick:function(){var e={type:"CREATE",title:a,id:Object(j.a)(6)};t(e),c("")},children:"Submit Task"})})})]})})}var W=function(){return Object(i.jsx)(d.a,{store:h,children:Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(J.a,{variant:"h4",align:"center",children:"Kanban Board App"}),Object(i.jsx)(z.a,{display:"flex",children:Object(i.jsx)(V,{})}),Object(i.jsx)(X,{})]})})},Z=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))};u.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(W,{})}),document.getElementById("root")),Z()},96:function(t,e,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.4602f451.chunk.js.map